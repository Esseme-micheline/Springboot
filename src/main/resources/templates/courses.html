<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="UTF-8">
	<title>Courses</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
		  integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
		  crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
		  integrity="sha384-iKbYIkqAFmr8bCgG5jpprG47dmZpq2m5FOh9GGaw8qz2zF1Smt72CGAk44fsI9I" crossorigin="anonymous">
	<style>
        .document-container {
            max-height: 200px; /* Hauteur maximale pour la zone d'affichage du document */
            overflow-y: auto; /* Activation du scrolling vertical si le contenu dépasse la hauteur maximale */
            border: 1px solid #ccc; /* Bordure pour la zone d'affichage */
            padding: 10px; /* Espacement intérieur */
        }
        .action-bar {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
    </style>
</head>

<body>
<nav class="navbar navbar-expand-md bg-dark navbar-dark">
	<a class="navbar-brand" href="#">Course Management System</a>
	<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="collapsibleNavbar">
		<ul class="navbar-nav">
			<li class="nav-item">
				<a class="nav-link" th:href="@{/courses}">Course Management</a>
			</li>
			<!-- Profile and Logout Links for authenticated users -->
			<!-- <li class="nav-item">
                <a class="nav-link" th:href="@{/auth/profile}">Profile</a>
            </li> -->
			<li class="nav-item">
				<a class="nav-link" th:href="@{/auth/logout}">Logout</a>
			</li>
		</ul>
	</div>
</nav>

<div class="container">
	<h1>Courses List</h1>
	<div class="action-bar">
		<form class="form-inline mb-3" th:action="@{/courses/search}" method="get">
			<input class="form-control mr-sm-2" type="search" placeholder="title,description etc..." aria-label="Search" name="query">
			<button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
		</form>
		<a th:href="@{/courses/create_course}" class="btn btn-primary">Add New Course</a>
	</div>
	<table class="table">
		<thead>
		<tr>
			<th>ID</th>
			<th>Course</th>
			<th>Description</th>
			<th>Teacher</th>
			<th>Document Name</th>
			<th>Category</th>
			<th>Actions</th>
		</tr>
		</thead>
		<tbody>
		<tr th:each="course : ${courses}">
			<td th:text="${course.id}"></td>
			<td th:text="${course.title}"></td>
			<td th:text="${course.description}"></td>
			<td th:text="${course.presentation}"></td>
			<td th:text="${course.documentName}"></td>
			<td th:text="${course.category}"></td>
			<td>
				<a th:href="@{/courses/edit_course/{id}(id=${course.id})}" class="btn btn-primary">Edit</a>
				<a th:href="@{/courses/delete/{id}(id=${course.id})}" class="btn btn-danger">Delete</a>
				<a th:href="@{/courses/download/{id}(id=${course.id})}" class="btn btn-success">Download</a>
				<a th:href="@{/courses/documents/{id}(id=${course.id})}">
					<em>Details</em>
				</a>
			</td>
		</tr>
		</tbody>
	</table>

	<!-- Flash messages -->
	<div th:if="${message}" class="alert alert-success" role="alert">
		<p th:text="${message}"></p>
	</div>
	<div th:if="${error}" class="alert alert-danger" role="alert">
		<p th:text="${error}"></p>
	</div>

	<a th:href="@{/courses}" class="btn btn-secondary">Back to Courses</a>
</div>

</body>
</html>
